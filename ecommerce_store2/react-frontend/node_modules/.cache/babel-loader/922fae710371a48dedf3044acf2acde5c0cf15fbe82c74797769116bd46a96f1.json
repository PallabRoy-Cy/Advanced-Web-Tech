{"ast":null,"code":"import{useNavigate}from\"react-router-dom\";import axios from\"axios\";import Swal from\"sweetalert2\";import{useState}from\"react\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function Register(){const navigate=useNavigate();// Determining the fields required\nconst[registerInput,setRegister]=useState({name:'',email:'',password:''});const handleInput=e=>{setRegister({...registerInput,[e.target.name]:e.target.value});};// const submitRegister = (e) => {\n//   e.preventDefault();\n//   // Get CSRF token\n//   axios.get('/sanctum/csrf-cookie').then(response => {\n//     // Proceed with the POST request\n//     const data = {\n//       name: registerInput.name,\n//       email: registerInput.email,\n//       password: registerInput.password,\n//     };\n//     axios.post(`/api/register`, data).then(res => {\n//       if (res.data.status === 200) {\n//         localStorage.setItem('auth_token', res.data.token);\n//         localStorage.setItem('auth_name', res.data.username);\n//         Swal.fire(\"Success\", res.data.message, \"success\");\n//         navigate('/');\n//       } else {\n//         setRegister({ ...registerInput, error_list: res.data.validation_errors });\n//       }\n//     }).catch(error => {\n//       console.error('Registration request failed:', error);\n//     });\n//   }).catch(error => {\n//     console.error('CSRF token request failed:', error);\n//   });\n// };\nconst submitRegister=async e=>{e.preventDefault();try{await axios.get('http://localhost:8000/sanctum/csrf-cookie');const response=await axios.post('http://localhost:8000/api/register',registerInput);if(response.data.status===200){localStorage.setItem('auth_token',response.data.token);localStorage.setItem('auth_name',response.data.username);Swal.fire('Success',response.data.message,'success');navigate('/');}else{setRegister({...registerInput,error_list:response.data.validation_errors});}}catch(error){console.error('Registration failed:',error);}};return/*#__PURE__*/_jsxs(\"div\",{className:\"registration\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"registrationback\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"registrationcontent\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"regheader\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Register\"}),/*#__PURE__*/_jsx(\"p\",{className:\"belowregname\",children:\"Create an account\"})]}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:submitRegister,method:\"POST\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"card-header\",children:/*#__PURE__*/_jsx(\"h4\",{children:\"Register\"})}),/*#__PURE__*/_jsxs(\"div\",{className:\"card-body\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"form-group mb-3\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Full Name\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"name\",onChange:handleInput,value:registerInput.name,className:\"form-control\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group mb-3\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Email address\"}),/*#__PURE__*/_jsx(\"input\",{type:\"email\",name:\"email\",onChange:handleInput,value:registerInput.email,className:\"form-control\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group mb-3\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Password\"}),/*#__PURE__*/_jsx(\"input\",{type:\"password\",name:\"password\",onChange:handleInput,value:registerInput.password,className:\"form-control\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"mb-3 form-check\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"checkbox\",className:\"form-check-input\"}),/*#__PURE__*/_jsx(\"label\",{className:\"form-check-label\",children:\"Check me out\"})]}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"btn btn-primary\",children:\"Submit\"})]})]})]})]});}export default Register;","map":{"version":3,"names":["useNavigate","axios","Swal","useState","jsx","_jsx","jsxs","_jsxs","Register","navigate","registerInput","setRegister","name","email","password","handleInput","e","target","value","submitRegister","preventDefault","get","response","post","data","status","localStorage","setItem","token","username","fire","message","error_list","validation_errors","error","console","className","children","onSubmit","method","type","onChange"],"sources":["E:/xampp/htdocs/react/whole project/react-frontend/src/components/registration.js"],"sourcesContent":["import { useNavigate } from \"react-router-dom\";\nimport axios from \"axios\";\nimport Swal from \"sweetalert2\";\nimport { useState } from \"react\";\n\nfunction Register() {\n  const navigate = useNavigate();\n\n  // Determining the fields required\n  const [registerInput, setRegister] = useState({\n    name: '',\n    email: '',\n    password: '',\n  });\n\n  const handleInput = (e) => {\n    setRegister({ ...registerInput, [e.target.name]: e.target.value });\n  };\n\n  // const submitRegister = (e) => {\n  //   e.preventDefault();\n\n  //   // Get CSRF token\n  //   axios.get('/sanctum/csrf-cookie').then(response => {\n  //     // Proceed with the POST request\n  //     const data = {\n  //       name: registerInput.name,\n  //       email: registerInput.email,\n  //       password: registerInput.password,\n  //     };\n\n  //     axios.post(`/api/register`, data).then(res => {\n  //       if (res.data.status === 200) {\n  //         localStorage.setItem('auth_token', res.data.token);\n  //         localStorage.setItem('auth_name', res.data.username);\n  //         Swal.fire(\"Success\", res.data.message, \"success\");\n  //         navigate('/');\n  //       } else {\n  //         setRegister({ ...registerInput, error_list: res.data.validation_errors });\n  //       }\n  //     }).catch(error => {\n  //       console.error('Registration request failed:', error);\n  //     });\n  //   }).catch(error => {\n  //     console.error('CSRF token request failed:', error);\n  //   });\n  // };\n\n\n  const submitRegister = async (e) => {\n    e.preventDefault();\n\n    try {\n      await axios.get('http://localhost:8000/sanctum/csrf-cookie');\n      const response = await axios.post('http://localhost:8000/api/register', registerInput);\n      if (response.data.status === 200) {\n        localStorage.setItem('auth_token', response.data.token);\n        localStorage.setItem('auth_name', response.data.username);\n        Swal.fire('Success', response.data.message, 'success');\n        navigate('/');\n      } else {\n        setRegister({ ...registerInput, error_list: response.data.validation_errors });\n      }\n    } catch (error) {\n      console.error('Registration failed:', error);\n    }\n  };\n\n  return (\n    <div className=\"registration\">\n      <div className=\"registrationback\"></div>\n      <div className=\"registrationcontent\">\n        <div className=\"regheader\">\n          <h2>Register</h2>\n          <p className=\"belowregname\">Create an account</p>\n        </div>\n        <form onSubmit={submitRegister} method=\"POST\">\n          <div className='card-header'>\n            <h4>Register</h4>\n          </div>\n          <div className='card-body'>\n            <div className=\"form-group mb-3\">\n              <label>Full Name</label>\n              <input type=\"text\" name=\"name\" onChange={handleInput} value={registerInput.name} className=\"form-control\" />\n              {/* <span>{registerInput.error_list.name}</span> */}\n            </div>\n            <div className=\"form-group mb-3\">\n              <label>Email address</label>\n              <input type=\"email\" name=\"email\" onChange={handleInput} value={registerInput.email} className=\"form-control\" />\n              {/* <span>{registerInput.error_list.email}</span> */}\n            </div>\n            <div className=\"form-group mb-3\">\n              <label>Password</label>\n              <input type=\"password\" name=\"password\" onChange={handleInput} value={registerInput.password} className=\"form-control\" />\n              {/* <span>{registerInput.error_list.password}</span> */}\n            </div>\n            <div className=\"mb-3 form-check\">\n              <input type=\"checkbox\" className=\"form-check-input\" />\n              <label className=\"form-check-label\">Check me out</label>\n            </div>\n            <button type=\"submit\" className=\"btn btn-primary\">Submit</button>\n          </div>\n        </form>\n      </div>\n    </div>\n  );\n  \n}\n\nexport default Register;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}