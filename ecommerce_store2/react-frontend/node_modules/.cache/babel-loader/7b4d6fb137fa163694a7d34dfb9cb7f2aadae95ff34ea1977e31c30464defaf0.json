{"ast":null,"code":"import React,{useEffect,useState}from\"react\";import{Link,useNavigate}from\"react-router-dom\";import SubTotal from\"./subtotal.js\";import{useCart}from\"./cartcontext.js\";import Header from\"./header.js\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export default function Cart(){const navigate=useNavigate();const[cart,setCart]=useCart();const totalPrice=()=>{try{let total=0;cart===null||cart===void 0?void 0:cart.map(item=>{total=parseInt(total)+parseInt(item.price);});return total.toLocaleString(\"en-US\",{style:\"currency\",currency:\"USD\"});}catch(error){console.log(error);}};const removeItem=id=>{try{let myCart=[...cart];let index=myCart.findIndex(item=>item.id===id);myCart.splice(index,1);setCart(myCart);localStorage.setItem(\"cart_info\",JSON.stringify(myCart));}catch(error){console.log(error);}};function getTotal(data,id){console.log(\"Price is: \"+data+\" Id is: \"+id);}return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(Header,{}),localStorage.getItem(\"user\")?/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"bodybuttons\",children:[/*#__PURE__*/_jsx(Link,{to:\"/\",children:/*#__PURE__*/_jsxs(\"button\",{children:[/*#__PURE__*/_jsx(\"i\",{className:\"fa-solid fa-server\"}),\"All Products\"]})}),/*#__PURE__*/_jsx(Link,{to:\"/myproducts\",children:/*#__PURE__*/_jsxs(\"button\",{children:[/*#__PURE__*/_jsx(\"i\",{className:\"fa-solid fa-box-open\"}),\"My Products\"]})}),localStorage.getItem(\"user\")?/*#__PURE__*/_jsx(Link,{to:\"/addproduct\",children:/*#__PURE__*/_jsxs(\"button\",{children:[/*#__PURE__*/_jsx(\"i\",{className:\"fa-solid fa-square-plus\"}),\"Add Product\"]})}):null]}),/*#__PURE__*/_jsx(\"div\",{children:(cart===null||cart===void 0?void 0:cart.length)>0?/*#__PURE__*/_jsxs(\"div\",{className:\"myproductsbody\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"mypdheader\",children:/*#__PURE__*/_jsx(\"p\",{children:\"My Cart\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"mycardcard\",children:cart.map(item=>/*#__PURE__*/_jsx(\"div\",{className:\"prodelements\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"mypdlist\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"mypdimagediv\",children:/*#__PURE__*/_jsx(\"img\",{src:\"http://127.0.0.1:8000/\"+item.pdimg,className:\"mypdimage\",alt:\"Logo\"})}),/*#__PURE__*/_jsxs(\"div\",{className:\"mypddetails\",children:[/*#__PURE__*/_jsx(\"h2\",{children:item.product}),/*#__PURE__*/_jsxs(\"div\",{className:\"mycartdetails\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"p\",{children:[\"Manufacturer: \",item.manufacturer]}),/*#__PURE__*/_jsxs(\"p\",{children:[\"Price: \",item.price]}),/*#__PURE__*/_jsxs(\"p\",{children:[\"Quantity: \",item.quantity]})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"p\",{children:[\"Tags: \",item.tags]}),/*#__PURE__*/_jsxs(\"p\",{children:[\"Description: \",item.description]})]})]})]}),/*#__PURE__*/_jsx(SubTotal,{data:item.price,getTotal:getTotal,id:item.id}),/*#__PURE__*/_jsx(\"button\",{className:\"removebutton\",onClick:()=>removeItem(item.id),children:\"Remove\"})]})},item.id))}),/*#__PURE__*/_jsxs(\"div\",{className:\"grandtotalcart\",children:[\"Grand Total: \",totalPrice()]}),/*#__PURE__*/_jsx(\"div\",{className:\"checkoutbutton\",children:/*#__PURE__*/_jsx(\"button\",{children:\"Check-out\"})})]}):null})]}):navigate(\"/login\")]});}","map":{"version":3,"names":["React","useEffect","useState","Link","useNavigate","SubTotal","useCart","Header","jsx","_jsx","jsxs","_jsxs","Cart","navigate","cart","setCart","totalPrice","total","map","item","parseInt","price","toLocaleString","style","currency","error","console","log","removeItem","id","myCart","index","findIndex","splice","localStorage","setItem","JSON","stringify","getTotal","data","children","getItem","className","to","length","src","pdimg","alt","product","manufacturer","quantity","tags","description","onClick"],"sources":["E:/xampp/htdocs/react/whole project/react-frontend/src/components/cart.js"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\nimport { Link, useNavigate } from \"react-router-dom\";\nimport SubTotal from \"./subtotal.js\";\nimport { useCart } from \"./cartcontext.js\";\nimport Header from \"./header.js\";\n\nexport default function Cart() {\n  const navigate = useNavigate();\n  const [cart, setCart] = useCart();\n\n  const totalPrice = () => {\n    try {\n      let total = 0;\n      cart?.map((item) => {\n        total = parseInt(total) + parseInt(item.price);\n      });\n      return total.toLocaleString(\"en-US\", {\n        style: \"currency\",\n        currency: \"USD\",\n      });\n    } catch (error) {\n      console.log(error);\n    }\n  };\n\n  const removeItem = (id) => {\n    try {\n      let myCart = [...cart];\n      let index = myCart.findIndex((item) => item.id === id);\n      myCart.splice(index, 1);\n      setCart(myCart);\n      localStorage.setItem(\"cart_info\", JSON.stringify(myCart));\n    } catch (error) {\n      console.log(error);\n    }\n  };\n\n  function getTotal(data, id) {\n    console.log(\"Price is: \" + data + \" Id is: \" + id);\n  }\n\n  return (\n    <div>\n      <Header />\n      {localStorage.getItem(\"user\") ? (\n        <div>\n          <div className=\"bodybuttons\">\n            <Link to=\"/\">\n              <button>\n                <i className=\"fa-solid fa-server\"></i>All Products\n              </button>\n            </Link>\n\n            <Link to=\"/myproducts\">\n              <button>\n                <i className=\"fa-solid fa-box-open\"></i>My Products\n              </button>\n            </Link>\n\n            {localStorage.getItem(\"user\") ? (\n              <Link to=\"/addproduct\">\n                <button>\n                  <i className=\"fa-solid fa-square-plus\"></i>Add Product\n                </button>\n              </Link>\n            ) : null}\n          </div>\n\n          <div>\n            {cart?.length > 0 ? (\n              <div className=\"myproductsbody\">\n                <div className=\"mypdheader\">\n                  <p>My Cart</p>\n                </div>\n                <div className=\"mycardcard\">\n                  {cart.map((item) => (\n                    <div key={item.id} className=\"prodelements\">\n                      <div className=\"mypdlist\">\n                        <div className=\"mypdimagediv\">\n                          <img\n                            src={\"http://127.0.0.1:8000/\" + item.pdimg}\n                            className=\"mypdimage\"\n                            alt=\"Logo\"\n                          />\n                        </div>\n                        <div className=\"mypddetails\">\n                          <h2>{item.product}</h2>\n                          <div className=\"mycartdetails\">\n                            <div>\n                              <p>Manufacturer: {item.manufacturer}</p>\n                              <p>Price: {item.price}</p>\n                              <p>Quantity: {item.quantity}</p>\n                            </div>\n                            <div>\n                              <p>Tags: {item.tags}</p>\n                              <p>Description: {item.description}</p>\n                            </div>\n                          </div>\n                        </div>\n                        <SubTotal\n                          data={item.price}\n                          getTotal={getTotal}\n                          id={item.id}\n                        />\n                        <button\n                          className=\"removebutton\"\n                          onClick={() => removeItem(item.id)}\n                        >\n                          Remove\n                        </button>\n                      </div>\n                    </div>\n                  ))}\n                </div>\n                <div className=\"grandtotalcart\">\n                  Grand Total: {totalPrice()}\n                </div>\n                <div className=\"checkoutbutton\">\n                  <button>Check-out</button>\n                </div>\n              </div>\n            ) : null}\n          </div>\n        </div>\n      ) : (\n        navigate(\"/login\")\n      )}\n\n    </div>\n  );\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}