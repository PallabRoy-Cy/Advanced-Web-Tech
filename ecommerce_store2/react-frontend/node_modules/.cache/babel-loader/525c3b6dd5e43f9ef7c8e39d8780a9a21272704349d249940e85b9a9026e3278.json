{"ast":null,"code":"import React,{useState,useEffect}from\"react\";import Header from\"./header\";import Footer from\"./footer\";import{useParams,useNavigate}from\"react-router-dom\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function Update(){const navigate=useNavigate();const params=useParams();const id=params.id;const[productData,setProductData]=useState({product:\"\",manufacturer:\"\",price:\"\",quantity:\"\",tags:\"\",pdimg:\"\",description:\"\"});useEffect(()=>{const fetchProductData=async()=>{try{const response=await fetch(\"http://127.0.0.1:8000/api/getproduct/\".concat(id));const data=await response.json();setProductData(data);}catch(error){console.error('Error fetching product data:',error);}};fetchProductData();},[id]);const handleChanges=async event=>{event.preventDefault();const formData=new FormData();formData.append(\"product\",productData.product);formData.append(\"manufacturer\",productData.manufacturer);formData.append(\"price\",productData.price);formData.append(\"quantity\",productData.quantity);formData.append(\"tags\",productData.tags);formData.append(\"pdimg\",productData.pdimg);formData.append(\"description\",productData.description);await fetch(\"http://127.0.0.1:8000/api/updateproduct/\".concat(id,\"?_method=PUT\"),{method:\"POST\",body:formData});alert(\"Product Updated\");navigate(\"/myproducts\");};return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(Header,{}),/*#__PURE__*/_jsxs(\"div\",{className:\"formbody\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"addproductheader\",children:/*#__PURE__*/_jsx(\"div\",{className:\"togoback\",children:/*#__PURE__*/_jsx(\"a\",{href:\"/myproducts\",children:\"Go Back\"})})}),/*#__PURE__*/_jsx(\"div\",{className:\"formdiv\",children:/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleChanges,children:[/*#__PURE__*/_jsx(\"div\",{className:\"addpdheader\",children:\"Update Product\"}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"product\",children:\"Product Name\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",onChange:event=>setProductData({...productData,product:event.target.value}),name:\"product\",defaultValue:productData.product})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"manufacturer\",children:\"Manufacturer\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"manufacturer\",placeholder:\"Example: Audi\",defaultValue:productData.manufacturer,onChange:event=>setProductData({...productData,manufacturer:event.target.value})})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"price\",children:\"Price\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",defaultValue:productData.price,onChange:event=>setProductData({...productData,price:event.target.value}),name:\"price\",placeholder:\"In Nrs.\"})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"quantity\",children:\"Quantity\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",defaultValue:productData.quantity,onChange:event=>setProductData({...productData,quantity:event.target.value}),name:\"quantity\"})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"tags\",children:\"Tags (Comma Separated)\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"tags\",defaultValue:productData.tags,onChange:event=>setProductData({...productData,tags:event.target.value}),placeholder:\"Example: Camera, Lens, Photograph etc\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"imagepart\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"pdimg\",children:\"Product Image: \"}),/*#__PURE__*/_jsx(\"input\",{type:\"file\",onChange:event=>setProductData({...productData,pdimg:event.target.files[0]}),name:\"pdimg\"}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"img\",{src:\"http://127.0.0.1:8000/\".concat(productData.pdimg),className:\"pdimage\",alt:\"Product Preview\"})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"description\",children:\"Product Description\"}),/*#__PURE__*/_jsx(\"textarea\",{name:\"description\",rows:\"10\",defaultValue:productData.description,onChange:event=>setProductData({...productData,description:event.target.value}),placeholder:\"Include product's details\"})]}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",children:\"Update Product\"})]})})]}),/*#__PURE__*/_jsx(Footer,{})]});}export default Update;","map":{"version":3,"names":["React","useState","useEffect","Header","Footer","useParams","useNavigate","jsx","_jsx","jsxs","_jsxs","Update","navigate","params","id","productData","setProductData","product","manufacturer","price","quantity","tags","pdimg","description","fetchProductData","response","fetch","concat","data","json","error","console","handleChanges","event","preventDefault","formData","FormData","append","method","body","alert","children","className","href","onSubmit","htmlFor","type","onChange","target","value","name","defaultValue","placeholder","files","src","alt","rows"],"sources":["E:/xampp/htdocs/react/whole project/react-frontend/src/components/update.js"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport Header from \"./header\";\nimport Footer from \"./footer\";\nimport { useParams, useNavigate } from \"react-router-dom\";\n\nfunction Update() {\n  const navigate = useNavigate();\n  const params = useParams();\n  const id = params.id;\n\n  const [productData, setProductData] = useState({\n    product: \"\",\n    manufacturer: \"\",\n    price: \"\",\n    quantity: \"\",\n    tags: \"\",\n    pdimg: \"\",\n    description: \"\",\n  });\n\n  useEffect(() => {\n    const fetchProductData = async () => {\n      try {\n        const response = await fetch(`http://127.0.0.1:8000/api/getproduct/${id}`);\n        const data = await response.json();\n        setProductData(data);\n      } catch (error) {\n        console.error('Error fetching product data:', error);\n      }\n    };\n\n    fetchProductData();\n  }, [id]);\n\n  const handleChanges = async (event) => {\n    event.preventDefault();\n\n    const formData = new FormData();\n    formData.append(\"product\", productData.product);\n    formData.append(\"manufacturer\", productData.manufacturer);\n    formData.append(\"price\", productData.price);\n    formData.append(\"quantity\", productData.quantity);\n    formData.append(\"tags\", productData.tags);\n    formData.append(\"pdimg\", productData.pdimg);\n    formData.append(\"description\", productData.description);\n\n    await fetch(`http://127.0.0.1:8000/api/updateproduct/${id}?_method=PUT`, {\n      method: \"POST\",\n      body: formData,\n    });\n\n    alert(\"Product Updated\");\n    navigate(\"/myproducts\");\n  };\n\n  return (\n    <div>\n      <Header />\n      <div className=\"formbody\">\n        <div className=\"addproductheader\">\n          <div className=\"togoback\">\n            <a href=\"/myproducts\">Go Back</a>\n          </div>\n        </div>\n        <div className=\"formdiv\">\n          <form onSubmit={handleChanges}>\n            <div className=\"addpdheader\">Update Product</div>\n            <div>\n              <label htmlFor=\"product\">Product Name</label>\n              <input\n                type=\"text\"\n                onChange={(event) => setProductData({ ...productData, product: event.target.value })}\n                name=\"product\"\n                defaultValue={productData.product}\n              />\n            </div>\n\n            <div>\n              <label htmlFor=\"manufacturer\">Manufacturer</label>\n              <input\n                type=\"text\"\n                name=\"manufacturer\"\n                placeholder=\"Example: Audi\"\n                defaultValue={productData.manufacturer}\n                onChange={(event) => setProductData({ ...productData, manufacturer: event.target.value })}\n              />\n            </div>\n\n            <div>\n              <label htmlFor=\"price\">Price</label>\n              <input\n                type=\"text\"\n                defaultValue={productData.price}\n                onChange={(event) => setProductData({ ...productData, price: event.target.value })}\n                name=\"price\"\n                placeholder=\"In Nrs.\"\n              />\n            </div>\n\n            <div>\n              <label htmlFor=\"quantity\">Quantity</label>\n              <input\n                type=\"text\"\n                defaultValue={productData.quantity}\n                onChange={(event) => setProductData({ ...productData, quantity: event.target.value })}\n                name=\"quantity\"\n              />\n            </div>\n\n            <div>\n              <label htmlFor=\"tags\">Tags (Comma Separated)</label>\n              <input\n                type=\"text\"\n                name=\"tags\"\n                defaultValue={productData.tags}\n                onChange={(event) => setProductData({ ...productData, tags: event.target.value })}\n                placeholder=\"Example: Camera, Lens, Photograph etc\"\n              />\n            </div>\n\n            <div className=\"imagepart\">\n              <label htmlFor=\"pdimg\">Product Image: </label>\n              <input\n                type=\"file\"\n                onChange={(event) => setProductData({ ...productData, pdimg: event.target.files[0] })}\n                name=\"pdimg\"\n              />\n              <br />\n              <br />\n              <img\n                src={`http://127.0.0.1:8000/${productData.pdimg}`}\n                className=\"pdimage\"\n                alt=\"Product Preview\"\n              />\n            </div>\n\n            <div>\n              <label htmlFor=\"description\">Product Description</label>\n              <textarea\n                name=\"description\"\n                rows=\"10\"\n                defaultValue={productData.description}\n                onChange={(event) => setProductData({ ...productData, description: event.target.value })}\n                placeholder=\"Include product's details\"\n              ></textarea>\n            </div>\n\n            <button type=\"submit\">Update Product</button>\n          </form>\n        </div>\n      </div>\n      <Footer />\n    </div>\n  );\n}\n\nexport default Update;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}