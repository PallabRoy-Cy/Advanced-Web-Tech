{"ast":null,"code":"import React,{useState,useEffect}from\"react\";import{Link,useNavigate}from\"react-router-dom\";import{useCart}from\"./cartcontext\";import{Badge}from\"antd\";import{ToastContainer,toast}from\"react-toastify\";import\"react-toastify/dist/ReactToastify.css\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export default function search(props){let searchvalue=props.data;// const [cartNumber, setCartNumber] = useState(0);\nconst navigate=useNavigate();const[cart,setCart]=useCart();const[searchResult,setSearchResult]=useState([]);const handleSearch=()=>{fetch(\"http://127.0.0.1:8000/api/search/\"+searchvalue).then(response=>{return response.json();}).then(data=>{setSearchResult(data);});};useEffect(()=>{handleSearch();},[searchvalue]);// function handleCart(id) {\n//   if(localStorage.getItem(\"vendor-info\")){\n//   setCartNumber(cartNumber + 1);\n//   alert(\"Item added to cart\");\n//   }else{\n//     alert(\"You need to login first\")\n//     navigate('/login')\n//   }\n// }\nreturn/*#__PURE__*/_jsxs(\"div\",{className:\"allproducts\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"allpdheader\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"allpd\",children:\"All Products\"}),/*#__PURE__*/_jsx(\"div\",{className:\"cartbutton\",children:/*#__PURE__*/_jsx(Badge,{count:cart===null||cart===void 0?void 0:cart.length,showZero:true,children:/*#__PURE__*/_jsx(Link,{to:\"/cart\",children:/*#__PURE__*/_jsx(\"button\",{className:\"actualbutton\",children:/*#__PURE__*/_jsx(\"i\",{class:\"fa-solid fa-cart-shopping\"})})})})})]}),searchResult.length>0&&/*#__PURE__*/_jsxs(\"div\",{className:\"productbody\",children:[searchResult.map(item=>/*#__PURE__*/_jsxs(\"div\",{className:\"pdlist\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"pdimage\",children:/*#__PURE__*/_jsx(\"img\",{src:\"http://127.0.0.1:8000/\"+item.pdimg,className:\"pdimage\",alt:\"Logo\"})}),/*#__PURE__*/_jsxs(\"div\",{className:\"productcard\",children:[/*#__PURE__*/_jsx(\"h2\",{children:item.product}),/*#__PURE__*/_jsxs(\"div\",{className:\"productdetails\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"leftdetails\",children:[/*#__PURE__*/_jsxs(\"p\",{children:[\"Manufacturer: \",item.manufacturer]}),/*#__PURE__*/_jsxs(\"p\",{children:[\"Price: \",item.price]}),/*#__PURE__*/_jsxs(\"p\",{children:[\"Quantity: \",item.quantity]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"rightdetails\",children:[/*#__PURE__*/_jsxs(\"p\",{children:[\"Tags: \",item.tags]}),/*#__PURE__*/_jsxs(\"p\",{children:[\"Description: \",item.description]})]})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"pdbutton\",children:/*#__PURE__*/_jsxs(\"button\",{onClick:()=>{setCart([...cart,item]);localStorage.setItem('cart_info',JSON.stringify([...cart,item]));toast.success(\"Product added to cart\");},children:[\" \",/*#__PURE__*/_jsx(\"i\",{class:\"fa-solid fa-cart-plus\"}),\"Add to cart\"]})})]})),/*#__PURE__*/_jsx(ToastContainer,{position:\"top-center\",autoClose:2000,hideProgressBar:true,newestOnTop:false,closeOnClick:true,rtl:false,pauseOnFocusLoss:true,draggable:true,pauseOnHover:true,theme:\"light\"})]})]});}","map":{"version":3,"names":["React","useState","useEffect","Link","useNavigate","useCart","Badge","ToastContainer","toast","jsx","_jsx","jsxs","_jsxs","search","props","searchvalue","data","navigate","cart","setCart","searchResult","setSearchResult","handleSearch","fetch","then","response","json","className","children","count","length","showZero","to","class","map","item","src","pdimg","alt","product","manufacturer","price","quantity","tags","description","onClick","localStorage","setItem","JSON","stringify","success","position","autoClose","hideProgressBar","newestOnTop","closeOnClick","rtl","pauseOnFocusLoss","draggable","pauseOnHover","theme"],"sources":["E:/xampp/htdocs/react/whole project/react-frontend/src/components/search.js"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport { Link, useNavigate } from \"react-router-dom\";\nimport { useCart } from \"./cartcontext\";\nimport { Badge } from \"antd\";\nimport { ToastContainer, toast } from \"react-toastify\";\nimport \"react-toastify/dist/ReactToastify.css\";\n\nexport default function search(props) {\n  let searchvalue = props.data;\n  // const [cartNumber, setCartNumber] = useState(0);\n  const navigate = useNavigate();\n  const [cart, setCart] = useCart();\n  const [searchResult, setSearchResult] = useState([]);\n  const handleSearch = () => {\n    fetch(\"http://127.0.0.1:8000/api/search/\" + searchvalue)\n      .then((response) => {\n        return response.json();\n      })\n      .then((data) => {\n        setSearchResult(data);\n      });\n  };\n\n  useEffect(() => {\n    handleSearch();\n  }, [searchvalue]);\n\n  // function handleCart(id) {\n  //   if(localStorage.getItem(\"vendor-info\")){\n  //   setCartNumber(cartNumber + 1);\n  //   alert(\"Item added to cart\");\n  //   }else{\n  //     alert(\"You need to login first\")\n  //     navigate('/login')\n  //   }\n  // }\n  return (\n    <div className=\"allproducts\">\n      <div className=\"allpdheader\">\n        <div className=\"allpd\">All Products</div>\n        <div className=\"cartbutton\">\n          <Badge count={cart?.length} showZero>\n            <Link to=\"/cart\">\n              <button className=\"actualbutton\">\n                <i class=\"fa-solid fa-cart-shopping\"></i>\n              </button>\n            </Link>\n          </Badge>\n        </div>\n      </div>\n      {searchResult.length > 0 && (\n        <div className=\"productbody\">\n          {searchResult.map((item) => (\n            <div className=\"pdlist\">\n              <div className=\"pdimage\">\n                <img\n                  src={\"http://127.0.0.1:8000/\" + item.pdimg}\n                  className=\"pdimage\"\n                  alt=\"Logo\"\n                />\n              </div>\n              <div className=\"productcard\">\n                <h2>{item.product}</h2>\n                <div className=\"productdetails\">\n                  <div className=\"leftdetails\">\n                    <p>Manufacturer: {item.manufacturer}</p>\n                    <p>Price: {item.price}</p>\n                    <p>Quantity: {item.quantity}</p>\n                  </div>\n                  <div className=\"rightdetails\">\n                    <p>Tags: {item.tags}</p>\n                    <p>Description: {item.description}</p>\n                  </div>\n                </div>\n              </div>\n              <div className=\"pdbutton\">\n                <button\n                  onClick={() => {\n                    setCart([...cart, item]);\n                    localStorage.setItem('cart_info', JSON.stringify([...cart, item]))\n                    toast.success(\"Product added to cart\");\n                  }}\n                >\n                  {\" \"}\n                  <i class=\"fa-solid fa-cart-plus\"></i>Add to cart\n                </button>\n              </div>\n            </div>\n          ))}\n          <ToastContainer\n            position=\"top-center\"\n            autoClose={2000}\n            hideProgressBar={true}\n            newestOnTop={false}\n            closeOnClick\n            rtl={false}\n            pauseOnFocusLoss\n            draggable\n            pauseOnHover\n            theme=\"light\"\n          />\n        </div>\n      )}\n    </div>\n  );\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}