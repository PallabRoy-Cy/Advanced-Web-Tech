{"ast":null,"code":"import React,{useState}from'react';import axios from'axios';import Swal from'sweetalert2';import Headers from'./header.js';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";function AddProduct(){const authToken=localStorage.getItem('auth_token');const[productName,setProductName]=useState('');const[manufacturer,setManufacturer]=useState('');const[price,setPrice]=useState('');const[quantity,setQuantity]=useState('');const[tags,setTags]=useState('');const[productImage,setProductImage]=useState(null);const[description,setDescription]=useState('');const[errorList,setErrorList]=useState([]);const handleInput=e=>{const{name,value}=e.target;switch(name){case'product':setProductName(value);break;case'manufacturer':setManufacturer(value);break;case'price':setPrice(value);break;case'quantity':setQuantity(value);break;case'tags':setTags(value);break;case'description':setDescription(value);break;default:break;}};const handleImage=e=>{setProductImage(e.target.files[0]);};const submitProduct=async e=>{e.preventDefault();const formData=new FormData();formData.append('product',productName);formData.append('manufacturer',manufacturer);formData.append('price',price);formData.append('quantity',quantity);formData.append('tags',tags);formData.append('pdimg',productImage);formData.append('description',description);try{await axios.get('http://localhost:8000/sanctum/csrf-cookie');// Proceed with the product submission\nconst response=await axios.post('http://localhost:8000/api/addproduct',formData,{headers:{'Authorization':\"Bearer \".concat(authToken),// Include the authentication token in the headers\n'Content-Type':'multipart/form-data'// Important when using FormData\n}});if(response.data.status===200){Swal.fire('Success',response.data.message,'success');clearForm();}else if(response.data.status===422){setErrorList(response.data.validation_errors);}else if(response.data.status===401){Swal.fire('Warning',response.data.message,'warning');}}catch(error){console.error('Error adding product:',error);// Handle errors, display error messages, etc.\n}};const clearForm=()=>{setProductName('');setManufacturer('');setPrice('');setQuantity('');setTags('');setProductImage(null);setDescription('');setErrorList([]);};return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(Headers,{}),/*#__PURE__*/_jsxs(\"div\",{className:\"container-fluid px-4\",children:[/*#__PURE__*/_jsx(\"h1\",{className:\"mt-4\",children:\"Add Product\"}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:submitProduct,method:\"POST\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"form-group mb-3\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Product Name\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"product\",onChange:handleInput,value:productName,className:\"form-control\"}),/*#__PURE__*/_jsx(\"span\",{children:errorList.product})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group mb-3\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Manufacturer\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"manufacturer\",onChange:handleInput,value:manufacturer,className:\"form-control\"}),/*#__PURE__*/_jsx(\"span\",{children:errorList.manufacturer})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group mb-3\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Price\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"price\",onChange:handleInput,value:price,className:\"form-control\"}),/*#__PURE__*/_jsx(\"span\",{children:errorList.price})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group mb-3\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Quantity\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"quantity\",onChange:handleInput,value:quantity,className:\"form-control\"}),/*#__PURE__*/_jsx(\"span\",{children:errorList.quantity})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group mb-3\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Tags (Comma Separated)\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"tags\",onChange:handleInput,value:tags,className:\"form-control\"}),/*#__PURE__*/_jsx(\"span\",{children:errorList.tags})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group mb-3\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Image\"}),/*#__PURE__*/_jsx(\"input\",{type:\"file\",name:\"pdimg\",onChange:handleImage,className:\"form-control\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group mb-3\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Product Description\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"description\",onChange:handleInput,value:description,className:\"form-control\"}),/*#__PURE__*/_jsx(\"span\",{children:errorList.description})]}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"btn btn-primary px-4\",children:\"Submit\"})]})]})]});}export default AddProduct;","map":{"version":3,"names":["React","useState","axios","Swal","Headers","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","AddProduct","authToken","localStorage","getItem","productName","setProductName","manufacturer","setManufacturer","price","setPrice","quantity","setQuantity","tags","setTags","productImage","setProductImage","description","setDescription","errorList","setErrorList","handleInput","e","name","value","target","handleImage","files","submitProduct","preventDefault","formData","FormData","append","get","response","post","headers","concat","data","status","fire","message","clearForm","validation_errors","error","console","children","className","onSubmit","method","type","onChange","product"],"sources":["E:/xampp/htdocs/react/whole project/react-frontend/src/components/addproduct.js"],"sourcesContent":["import React, { useState } from 'react';\nimport axios from 'axios';\nimport Swal from 'sweetalert2';\nimport Headers from './header.js';\n\nfunction AddProduct() {\n  const authToken = localStorage.getItem('auth_token');\n\n  const [productName, setProductName] = useState('');\n  const [manufacturer, setManufacturer] = useState('');\n  const [price, setPrice] = useState('');\n  const [quantity, setQuantity] = useState('');\n  const [tags, setTags] = useState('');\n  const [productImage, setProductImage] = useState(null);\n  const [description, setDescription] = useState('');\n  const [errorList, setErrorList] = useState([]);\n\n  const handleInput = (e) => {\n    const { name, value } = e.target;\n    switch (name) {\n      case 'product':\n        setProductName(value);\n        break;\n      case 'manufacturer':\n        setManufacturer(value);\n        break;\n      case 'price':\n        setPrice(value);\n        break;\n      case 'quantity':\n        setQuantity(value);\n        break;\n      case 'tags':\n        setTags(value);\n        break;\n      case 'description':\n        setDescription(value);\n        break;\n      default:\n        break;\n    }\n  };\n\n  const handleImage = (e) => {\n    setProductImage(e.target.files[0]);\n  };\n\n  const submitProduct = async (e) => {\n    e.preventDefault();\n    const formData = new FormData();\n    formData.append('product', productName);\n    formData.append('manufacturer', manufacturer);\n    formData.append('price', price);\n    formData.append('quantity', quantity);\n    formData.append('tags', tags);\n    formData.append('pdimg', productImage);\n    formData.append('description', description);\n\n    try {\n\n      await axios.get('http://localhost:8000/sanctum/csrf-cookie');\n\n\n      // Proceed with the product submission\n      const response = await axios.post('http://localhost:8000/api/addproduct', formData , {\n        headers: {\n          'Authorization': `Bearer ${authToken}`, // Include the authentication token in the headers\n          'Content-Type': 'multipart/form-data', // Important when using FormData\n        },\n      });\n\n      if (response.data.status === 200) {\n        Swal.fire('Success', response.data.message, 'success');\n        clearForm();\n      } else if (response.data.status === 422) {\n        setErrorList(response.data.validation_errors);\n      } else if (response.data.status === 401) {\n        Swal.fire('Warning', response.data.message, 'warning');\n      }\n    } catch (error) {\n      console.error('Error adding product:', error);\n      // Handle errors, display error messages, etc.\n    }\n  };\n    \n\n  const clearForm = () => {\n    setProductName('');\n    setManufacturer('');\n    setPrice('');\n    setQuantity('');\n    setTags('');\n    setProductImage(null);\n    setDescription('');\n    setErrorList([]);\n  };\n\n  return (\n    <>\n      <Headers />\n      <div className='container-fluid px-4'>\n        <h1 className='mt-4'>Add Product</h1>\n        <form onSubmit={submitProduct} method=\"POST\">\n          <div className='form-group mb-3'>\n            <label>Product Name</label>\n            <input\n              type='text'\n              name='product'\n              onChange={handleInput}\n              value={productName}\n              className='form-control'\n            />\n            <span>{errorList.product}</span>\n          </div>\n\n          <div className='form-group mb-3'>\n            <label>Manufacturer</label>\n            <input\n              type='text'\n              name='manufacturer'\n              onChange={handleInput}\n              value={manufacturer}\n              className='form-control'\n            />\n            <span>{errorList.manufacturer}</span>\n          </div>\n\n          <div className='form-group mb-3'>\n            <label>Price</label>\n            <input\n              type='text'\n              name='price'\n              onChange={handleInput}\n              value={price}\n              className='form-control'\n            />\n            <span>{errorList.price}</span>\n          </div>\n\n          <div className='form-group mb-3'>\n            <label>Quantity</label>\n            <input\n              type='text'\n              name='quantity'\n              onChange={handleInput}\n              value={quantity}\n              className='form-control'\n            />\n            <span>{errorList.quantity}</span>\n          </div>\n\n          <div className='form-group mb-3'>\n            <label>Tags (Comma Separated)</label>\n            <input\n              type='text'\n              name='tags'\n              onChange={handleInput}\n              value={tags}\n              className='form-control'\n            />\n            <span>{errorList.tags}</span>\n          </div>\n\n          <div className='form-group mb-3'>\n            <label>Image</label>\n            <input\n              type='file'\n              name='pdimg'\n              onChange={handleImage}\n              className='form-control'\n            />\n          </div>\n\n          <div className='form-group mb-3'>\n            <label>Product Description</label>\n            <input\n              type='text'\n              name='description'\n              onChange={handleInput}\n              value={description}\n              className='form-control'\n            />\n            <span>{errorList.description}</span>\n          </div>\n\n          <button type='submit' className='btn btn-primary px-4'>\n            Submit\n          </button>\n        </form>\n      </div>\n    </>\n  );\n}\n\nexport default AddProduct;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}