{"ast":null,"code":"import{react,useState,useEffect}from\"react\";import Header from\"./header\";import Footer from\"./footer\";import Body from\"./body\";import{Link,useNavigate}from\"react-router-dom\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";export default function MyProducts(){const[productData,setProductData]=useState([]);const navigate=useNavigate();const fetchProductData=()=>{fetch(\"http://127.0.0.1:8000/api/allproducts\").then(response=>{return response.json();}).then(data=>{setProductData(data);});};useEffect(()=>{fetchProductData();},[]);async function deleteProduct(id){let result=await fetch(\"http://127.0.0.1:8000/api/delete/\"+id,{method:\"DELETE\"});result=await result.json();// console.log(result.result);\nfetchProductData();}if(localStorage.getItem(\"user\")){let vendor=JSON.parse(localStorage.getItem(\"user\"));let product_id=vendor.id;return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(Header,{}),/*#__PURE__*/_jsxs(\"div\",{className:\"bodybuttons\",children:[/*#__PURE__*/_jsx(Link,{to:\"/\",children:/*#__PURE__*/_jsxs(\"button\",{children:[/*#__PURE__*/_jsx(\"i\",{class:\"fa-solid fa-server\"}),\"All Products\"]})}),/*#__PURE__*/_jsx(Link,{to:\"/myproducts\",children:/*#__PURE__*/_jsxs(\"button\",{children:[/*#__PURE__*/_jsx(\"i\",{class:\"fa-solid fa-box-open\"}),\"My Products\"]})}),localStorage.getItem(\"user\")?/*#__PURE__*/_jsx(Link,{to:\"/addproduct\",children:/*#__PURE__*/_jsxs(\"button\",{children:[/*#__PURE__*/_jsx(\"i\",{class:\"fa-solid fa-square-plus\"}),\"Add Product\"]})}):/*#__PURE__*/_jsx(\"div\",{})]}),/*#__PURE__*/_jsx(\"div\",{children:productData.length>0&&/*#__PURE__*/_jsxs(\"div\",{className:\"myproductsbody\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"mypdheader\",children:/*#__PURE__*/_jsx(\"p\",{children:\"My Products\"})}),productData.map(item=>/*#__PURE__*/_jsx(_Fragment,{children:item.user_id==product_id?/*#__PURE__*/ // console.log(product_id);\n_jsx(\"div\",{className:\"prodelements\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"mypdlist\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"mypdimagediv\",children:/*#__PURE__*/_jsx(\"img\",{src:\"http://127.0.0.1:8000/\"+item.pdimg,className:\"mypdimage\",alt:\"Logo\"})}),/*#__PURE__*/_jsxs(\"div\",{className:\"mypddetails\",children:[/*#__PURE__*/_jsx(\"h2\",{children:item.product}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"p\",{children:[\"Manufacturer: \",item.manufacturer]}),/*#__PURE__*/_jsxs(\"p\",{children:[\"Price: \",item.price]}),/*#__PURE__*/_jsxs(\"p\",{children:[\"Quantity: \",item.quantity]})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"p\",{children:[\"Tags: \",item.tags]}),/*#__PURE__*/_jsxs(\"p\",{children:[\"Description: \",item.description]})]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"mypdactions\",children:[/*#__PURE__*/_jsx(Link,{to:\"update/\"+item.id,children:/*#__PURE__*/_jsx(\"button\",{className:\"editbutton\",children:\"Edit\"})}),/*#__PURE__*/_jsx(\"button\",{className:\"deletebutton\",onClick:()=>deleteProduct(item.id),children:\"Delete\"})]})]})}):/*#__PURE__*/_jsx(_Fragment,{})}))]})}),/*#__PURE__*/_jsx(Footer,{})]});}else{return navigate(\"/login\");}}","map":{"version":3,"names":["react","useState","useEffect","Header","Footer","Body","Link","useNavigate","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","MyProducts","productData","setProductData","navigate","fetchProductData","fetch","then","response","json","data","deleteProduct","id","result","method","localStorage","getItem","vendor","JSON","parse","product_id","children","className","to","class","length","map","item","user_id","src","pdimg","alt","product","manufacturer","price","quantity","tags","description","onClick"],"sources":["E:/xampp/htdocs/react/whole project/react-frontend/src/components/myproducts.js"],"sourcesContent":["import { react, useState, useEffect } from \"react\";\nimport Header from \"./header\";\nimport Footer from \"./footer\";\nimport Body from \"./body\";\nimport { Link, useNavigate } from \"react-router-dom\";\n\nexport default function MyProducts() {\n  const [productData, setProductData] = useState([]);\n  const navigate = useNavigate();\n\n  const fetchProductData = () => {\n    fetch(\"http://127.0.0.1:8000/api/allproducts\")\n      .then((response) => {\n        return response.json();\n      })\n      .then((data) => {\n        setProductData(data);\n      });\n  };\n\n  useEffect(() => {\n    fetchProductData();\n  }, []);\n\n  async function deleteProduct(id) {\n    let result = await fetch(\"http://127.0.0.1:8000/api/delete/\" + id, {\n      method: \"DELETE\",\n    });\n    result = await result.json();\n    // console.log(result.result);\n    fetchProductData();\n  }\n\n  if (localStorage.getItem(\"user\")) {\n    let vendor = JSON.parse(localStorage.getItem(\"user\"));\n    let product_id = vendor.id;\n    return (\n      <div>\n        <Header />\n        <div className=\"bodybuttons\">\n          <Link to=\"/\">\n            <button><i class=\"fa-solid fa-server\"></i>All Products</button>\n          </Link>\n\n          <Link to=\"/myproducts\">\n            <button><i class=\"fa-solid fa-box-open\"></i>My Products</button>\n          </Link>\n\n          {localStorage.getItem(\"user\") ? (\n            <Link to=\"/addproduct\">\n              <button><i class=\"fa-solid fa-square-plus\"></i>Add Product</button>\n            </Link>\n          ) : (\n            <div></div>\n          )}\n        </div>\n          <div>\n            {productData.length > 0 && (\n              <div className=\"myproductsbody\">\n                <div className=\"mypdheader\">\n                  <p>My Products</p>\n                  </div>\n                {productData.map((item) => (\n                  <>\n                    {item.user_id == product_id ? (\n                      // console.log(product_id);\n                      <div className=\"prodelements\">\n                      <div className=\"mypdlist\">\n                        <div className=\"mypdimagediv\">\n                          <img\n                            src={\"http://127.0.0.1:8000/\" + item.pdimg}\n                            className=\"mypdimage\"\n                            alt=\"Logo\"\n                          />\n                        </div>\n                        <div className=\"mypddetails\">\n                          <h2>{item.product}</h2>\n                          <div>\n                            <div>\n                              <p>Manufacturer: {item.manufacturer}</p>\n                              <p>Price: {item.price}</p>\n                              <p>Quantity: {item.quantity}</p>\n                            </div>\n                            <div>\n                              <p>Tags: {item.tags}</p>\n                              <p>Description: {item.description}</p>\n                            </div>\n                          </div>\n                        </div>\n                        <div className=\"mypdactions\">\n                          <Link to={\"update/\" + item.id}>\n                            <button className=\"editbutton\">Edit</button>\n                          </Link>\n\n                          <button className=\"deletebutton\" onClick={() => deleteProduct(item.id)}>\n                            Delete\n                          </button>\n                        </div>\n                      </div>\n                      </div>\n                    ) : (\n                      <></>\n                    )}\n                  </>\n                ))}\n              </div>\n            )}\n          </div>\n        <Footer />\n      </div>\n    );\n  } else {\n    return navigate(\"/login\");\n  }\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}